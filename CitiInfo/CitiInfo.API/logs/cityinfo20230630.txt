2023-06-30 13:30:49.534 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-30 13:30:49.895 -04:00 [DBG] Hosting starting
2023-06-30 13:30:50.226 -04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: BF900C33E8B9112F0AFF0202C2CFCFEF317F2944)
2023-06-30 13:30:50.324 -04:00 [INF] Now listening on: https://localhost:7204
2023-06-30 13:30:50.326 -04:00 [INF] Now listening on: http://localhost:5204
2023-06-30 13:30:50.330 -04:00 [DBG] Loaded hosting startup assembly CitiInfo.API
2023-06-30 13:30:50.333 -04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-30 13:30:50.337 -04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-30 13:30:50.339 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-30 13:30:50.342 -04:00 [INF] Hosting environment: Development
2023-06-30 13:30:50.345 -04:00 [INF] Content root path: C:\LearningProjects\net-core6-fundamentals\CitiInfo\CitiInfo.API\
2023-06-30 13:30:50.348 -04:00 [DBG] Hosting started
2023-06-30 13:31:18.541 -04:00 [DBG] Connection id "0HMRPHV8550JA" received FIN.
2023-06-30 13:31:18.588 -04:00 [DBG] Connection id "0HMRPHV8550JA" accepted.
2023-06-30 13:31:18.602 -04:00 [DBG] Connection id "0HMRPHV8550JA" started.
2023-06-30 13:31:18.607 -04:00 [DBG] Connection id "0HMRPHV8550JB" accepted.
2023-06-30 13:31:18.619 -04:00 [DBG] Connection id "0HMRPHV8550JB" started.
2023-06-30 13:31:18.677 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-30 13:31:18.814 -04:00 [DBG] Connection 0HMRPHV8550JB established using the following protocol: "Tls13"
2023-06-30 13:31:18.837 -04:00 [DBG] Connection id "0HMRPHV8550JA" stopped.
2023-06-30 13:31:18.845 -04:00 [DBG] Connection id "0HMRPHV8550JA" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-30 13:31:18.920 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/cities - -
2023-06-30 13:31:18.959 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-30 13:31:19.025 -04:00 [DBG] The request path  does not match the path filter
2023-06-30 13:31:19.093 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-06-30 13:31:19.104 -04:00 [DBG] Endpoint 'CitiInfo.API.Controllers.CitiesController.GetCities (CitiInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-06-30 13:31:19.119 -04:00 [DBG] Request matched endpoint 'CitiInfo.API.Controllers.CitiesController.GetCities (CitiInfo.API)'
2023-06-30 13:31:19.126 -04:00 [INF] Executing endpoint 'CitiInfo.API.Controllers.CitiesController.GetCities (CitiInfo.API)'
2023-06-30 13:31:19.186 -04:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiInfo.API.Models.CityDto]]] GetCities() on controller CitiInfo.API.Controllers.CitiesController (CitiInfo.API).
2023-06-30 13:31:19.196 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-30 13:31:19.200 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-30 13:31:19.204 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-30 13:31:19.210 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-30 13:31:19.214 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-30 13:31:19.219 -04:00 [DBG] Executing controller factory for controller CitiInfo.API.Controllers.CitiesController (CitiInfo.API)
2023-06-30 13:31:19.527 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-30 13:31:19.575 -04:00 [DBG] Executed controller factory for controller CitiInfo.API.Controllers.CitiesController (CitiInfo.API)
2023-06-30 13:31:21.015 -04:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2023-06-30 13:31:21.144 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-06-30 13:31:21.765 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(100), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CitiInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-06-30 13:31:21.844 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-30 13:31:22.221 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (372ms).
2023-06-30 13:31:22.241 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-06-30 13:31:22.280 -04:00 [DBG] Opened connection to database 'main' on server 'C:\LearningProjects\net-core6-fundamentals\CitiInfo\CitiInfo.API\CityInfo.db'.
2023-06-30 13:31:22.302 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-06-30 13:31:22.353 -04:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-06-30 13:31:22.413 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-30 13:31:22.459 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-30 13:31:22.465 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-30 13:31:22.485 -04:00 [DBG] A data reader was disposed.
2023-06-30 13:31:22.502 -04:00 [DBG] Closing connection to database 'main' on server 'C:\LearningProjects\net-core6-fundamentals\CitiInfo\CitiInfo.API\CityInfo.db'.
2023-06-30 13:31:22.518 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-06-30 13:31:22.528 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-06-30 13:31:22.555 -04:00 [DBG] No information found on request to perform content negotiation.
2023-06-30 13:31:22.561 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-30 13:31:22.565 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-30 13:31:22.574 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-30 13:31:22.581 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CitiInfo.API.Entities.City, CitiInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-30 13:31:22.967 -04:00 [INF] Executed action CitiInfo.API.Controllers.CitiesController.GetCities (CitiInfo.API) in 3725.3964ms
2023-06-30 13:31:22.978 -04:00 [INF] Executed endpoint 'CitiInfo.API.Controllers.CitiesController.GetCities (CitiInfo.API)'
2023-06-30 13:31:22.989 -04:00 [DBG] Connection id "0HMRPHV8550JB" completed keep alive response.
2023-06-30 13:31:23.018 -04:00 [DBG] 'CityInfoContext' disposed.
2023-06-30 13:31:23.037 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/cities - - - 200 313 application/json;+charset=utf-8 4122.1317ms
2023-06-30 14:36:49.934 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-30 14:36:50.065 -04:00 [DBG] Hosting starting
2023-06-30 14:36:50.285 -04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: BF900C33E8B9112F0AFF0202C2CFCFEF317F2944)
2023-06-30 14:36:50.355 -04:00 [INF] Now listening on: https://localhost:7204
2023-06-30 14:36:50.358 -04:00 [INF] Now listening on: http://localhost:5204
2023-06-30 14:36:50.360 -04:00 [DBG] Loaded hosting startup assembly CitiInfo.API
2023-06-30 14:36:50.363 -04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-30 14:36:50.366 -04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-30 14:36:50.369 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-30 14:36:50.372 -04:00 [INF] Hosting environment: Development
2023-06-30 14:36:50.374 -04:00 [INF] Content root path: C:\LearningProjects\net-core6-fundamentals\CitiInfo\CitiInfo.API\
2023-06-30 14:36:50.376 -04:00 [DBG] Hosting started
2023-06-30 14:37:08.784 -04:00 [DBG] Connection id "0HMRPJ41DJGOQ" received FIN.
2023-06-30 14:37:08.800 -04:00 [DBG] Connection id "0HMRPJ41DJGOQ" accepted.
2023-06-30 14:37:08.810 -04:00 [DBG] Connection id "0HMRPJ41DJGOQ" started.
2023-06-30 14:37:08.813 -04:00 [DBG] Connection id "0HMRPJ41DJGOR" accepted.
2023-06-30 14:37:08.816 -04:00 [DBG] Connection id "0HMRPJ41DJGOR" started.
2023-06-30 14:37:08.843 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-30 14:37:08.911 -04:00 [DBG] Connection 0HMRPJ41DJGOR established using the following protocol: "Tls13"
2023-06-30 14:37:08.938 -04:00 [DBG] Connection id "0HMRPJ41DJGOQ" stopped.
2023-06-30 14:37:08.948 -04:00 [DBG] Connection id "0HMRPJ41DJGOQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-30 14:37:08.999 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/cities - -
2023-06-30 14:37:09.019 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-30 14:37:09.068 -04:00 [DBG] The request path  does not match the path filter
2023-06-30 14:37:09.111 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-06-30 14:37:09.123 -04:00 [DBG] Endpoint 'CitiInfo.API.Controllers.CitiesController.GetCities (CitiInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-06-30 14:37:09.133 -04:00 [DBG] Request matched endpoint 'CitiInfo.API.Controllers.CitiesController.GetCities (CitiInfo.API)'
2023-06-30 14:37:09.139 -04:00 [INF] Executing endpoint 'CitiInfo.API.Controllers.CitiesController.GetCities (CitiInfo.API)'
2023-06-30 14:37:09.185 -04:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiInfo.API.Models.CityWithoutPointsOnInterestDto]]] GetCities() on controller CitiInfo.API.Controllers.CitiesController (CitiInfo.API).
2023-06-30 14:37:09.191 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-30 14:37:09.194 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-30 14:37:09.201 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-30 14:37:09.208 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-30 14:37:09.212 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-30 14:37:09.217 -04:00 [DBG] Executing controller factory for controller CitiInfo.API.Controllers.CitiesController (CitiInfo.API)
2023-06-30 14:37:09.488 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-30 14:37:09.729 -04:00 [DBG] Executed controller factory for controller CitiInfo.API.Controllers.CitiesController (CitiInfo.API)
2023-06-30 14:37:11.163 -04:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2023-06-30 14:37:11.253 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-06-30 14:37:11.798 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(100), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CitiInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-06-30 14:37:11.876 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-30 14:37:12.023 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (143ms).
2023-06-30 14:37:12.043 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-06-30 14:37:12.081 -04:00 [DBG] Opened connection to database 'main' on server 'C:\LearningProjects\net-core6-fundamentals\CitiInfo\CitiInfo.API\CityInfo.db'.
2023-06-30 14:37:12.108 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-06-30 14:37:12.161 -04:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-06-30 14:37:12.195 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-30 14:37:12.231 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-30 14:37:12.235 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-30 14:37:12.250 -04:00 [DBG] A data reader was disposed.
2023-06-30 14:37:12.263 -04:00 [DBG] Closing connection to database 'main' on server 'C:\LearningProjects\net-core6-fundamentals\CitiInfo\CitiInfo.API\CityInfo.db'.
2023-06-30 14:37:12.275 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-06-30 14:37:12.316 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-06-30 14:37:12.342 -04:00 [DBG] No information found on request to perform content negotiation.
2023-06-30 14:37:12.345 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-30 14:37:12.347 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-30 14:37:12.351 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-30 14:37:12.362 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CitiInfo.API.Models.CityWithoutPointsOnInterestDto, CitiInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-30 14:37:12.620 -04:00 [INF] Executed action CitiInfo.API.Controllers.CitiesController.GetCities (CitiInfo.API) in 3394.6409ms
2023-06-30 14:37:12.627 -04:00 [INF] Executed endpoint 'CitiInfo.API.Controllers.CitiesController.GetCities (CitiInfo.API)'
2023-06-30 14:37:12.631 -04:00 [DBG] Connection id "0HMRPJ41DJGOR" completed keep alive response.
2023-06-30 14:37:12.645 -04:00 [DBG] 'CityInfoContext' disposed.
2023-06-30 14:37:12.656 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/cities - - - 200 247 application/json;+charset=utf-8 3661.0257ms
2023-06-30 14:43:40.422 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-30 14:43:40.602 -04:00 [DBG] Hosting starting
2023-06-30 14:43:40.815 -04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: BF900C33E8B9112F0AFF0202C2CFCFEF317F2944)
2023-06-30 14:43:40.905 -04:00 [INF] Now listening on: https://localhost:7204
2023-06-30 14:43:40.910 -04:00 [INF] Now listening on: http://localhost:5204
2023-06-30 14:43:40.917 -04:00 [DBG] Loaded hosting startup assembly CitiInfo.API
2023-06-30 14:43:40.922 -04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-30 14:43:40.926 -04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-30 14:43:40.929 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-30 14:43:40.933 -04:00 [INF] Hosting environment: Development
2023-06-30 14:43:40.937 -04:00 [INF] Content root path: C:\LearningProjects\net-core6-fundamentals\CitiInfo\CitiInfo.API\
2023-06-30 14:43:40.941 -04:00 [DBG] Hosting started
2023-06-30 14:46:18.573 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-30 14:46:18.779 -04:00 [DBG] Hosting starting
2023-06-30 14:46:19.005 -04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: BF900C33E8B9112F0AFF0202C2CFCFEF317F2944)
2023-06-30 14:46:19.086 -04:00 [INF] Now listening on: https://localhost:7204
2023-06-30 14:46:19.100 -04:00 [INF] Now listening on: http://localhost:5204
2023-06-30 14:46:19.105 -04:00 [DBG] Loaded hosting startup assembly CitiInfo.API
2023-06-30 14:46:19.109 -04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-30 14:46:19.113 -04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-30 14:46:19.116 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-30 14:46:19.120 -04:00 [INF] Hosting environment: Development
2023-06-30 14:46:19.124 -04:00 [INF] Content root path: C:\LearningProjects\net-core6-fundamentals\CitiInfo\CitiInfo.API\
2023-06-30 14:46:19.127 -04:00 [DBG] Hosting started
2023-06-30 14:46:29.065 -04:00 [DBG] Connection id "0HMRPJ98CRNLN" received FIN.
2023-06-30 14:46:29.085 -04:00 [DBG] Connection id "0HMRPJ98CRNLN" accepted.
2023-06-30 14:46:29.097 -04:00 [DBG] Connection id "0HMRPJ98CRNLN" started.
2023-06-30 14:46:29.103 -04:00 [DBG] Connection id "0HMRPJ98CRNLO" accepted.
2023-06-30 14:46:29.111 -04:00 [DBG] Connection id "0HMRPJ98CRNLO" started.
2023-06-30 14:46:29.139 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-30 14:46:29.220 -04:00 [DBG] Connection 0HMRPJ98CRNLO established using the following protocol: "Tls13"
2023-06-30 14:46:29.222 -04:00 [DBG] Connection id "0HMRPJ98CRNLN" stopped.
2023-06-30 14:46:29.232 -04:00 [DBG] Connection id "0HMRPJ98CRNLN" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-30 14:46:29.288 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/cities - -
2023-06-30 14:46:29.313 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-30 14:46:29.363 -04:00 [DBG] The request path  does not match the path filter
2023-06-30 14:46:29.402 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-06-30 14:46:29.410 -04:00 [DBG] Endpoint 'CitiInfo.API.Controllers.CitiesController.GetCities (CitiInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-06-30 14:46:29.421 -04:00 [DBG] Request matched endpoint 'CitiInfo.API.Controllers.CitiesController.GetCities (CitiInfo.API)'
2023-06-30 14:46:29.427 -04:00 [INF] Executing endpoint 'CitiInfo.API.Controllers.CitiesController.GetCities (CitiInfo.API)'
2023-06-30 14:46:29.469 -04:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CitiInfo.API.Models.CityWithoutPointsOnInterestDto]]] GetCities() on controller CitiInfo.API.Controllers.CitiesController (CitiInfo.API).
2023-06-30 14:46:29.479 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-30 14:46:29.483 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-30 14:46:29.489 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-30 14:46:29.501 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-30 14:46:29.506 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-30 14:46:29.514 -04:00 [DBG] Executing controller factory for controller CitiInfo.API.Controllers.CitiesController (CitiInfo.API)
2023-06-30 14:46:29.801 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-30 14:46:30.068 -04:00 [DBG] Executed controller factory for controller CitiInfo.API.Controllers.CitiesController (CitiInfo.API)
2023-06-30 14:46:31.409 -04:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2023-06-30 14:46:31.488 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-06-30 14:46:32.062 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(100), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CitiInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-06-30 14:46:32.123 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-30 14:46:32.248 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (115ms).
2023-06-30 14:46:32.268 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-06-30 14:46:32.294 -04:00 [DBG] Opened connection to database 'main' on server 'C:\LearningProjects\net-core6-fundamentals\CitiInfo\CitiInfo.API\CityInfo.db'.
2023-06-30 14:46:32.315 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-06-30 14:46:32.364 -04:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-06-30 14:46:32.409 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-30 14:46:32.454 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-30 14:46:32.459 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-30 14:46:32.474 -04:00 [DBG] A data reader was disposed.
2023-06-30 14:46:32.488 -04:00 [DBG] Closing connection to database 'main' on server 'C:\LearningProjects\net-core6-fundamentals\CitiInfo\CitiInfo.API\CityInfo.db'.
2023-06-30 14:46:32.498 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-06-30 14:46:32.526 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-06-30 14:46:32.540 -04:00 [DBG] No information found on request to perform content negotiation.
2023-06-30 14:46:32.543 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-30 14:46:32.545 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-30 14:46:32.550 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-30 14:46:32.553 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CitiInfo.API.Models.CityWithoutPointsOnInterestDto, CitiInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-30 14:46:32.772 -04:00 [INF] Executed action CitiInfo.API.Controllers.CitiesController.GetCities (CitiInfo.API) in 3250.5678ms
2023-06-30 14:46:32.782 -04:00 [INF] Executed endpoint 'CitiInfo.API.Controllers.CitiesController.GetCities (CitiInfo.API)'
2023-06-30 14:46:32.791 -04:00 [DBG] Connection id "0HMRPJ98CRNLO" completed keep alive response.
2023-06-30 14:46:32.810 -04:00 [DBG] 'CityInfoContext' disposed.
2023-06-30 14:46:32.824 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/cities - - - 200 247 application/json;+charset=utf-8 3543.5879ms
2023-06-30 14:46:40.321 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/cities/1 - -
2023-06-30 14:46:40.325 -04:00 [DBG] The request path  does not match the path filter
2023-06-30 14:46:40.328 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-06-30 14:46:40.331 -04:00 [DBG] Endpoint 'CitiInfo.API.Controllers.CitiesController.GetCity (CitiInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-06-30 14:46:40.337 -04:00 [DBG] Request matched endpoint 'CitiInfo.API.Controllers.CitiesController.GetCity (CitiInfo.API)'
2023-06-30 14:46:40.339 -04:00 [INF] Executing endpoint 'CitiInfo.API.Controllers.CitiesController.GetCity (CitiInfo.API)'
2023-06-30 14:46:40.360 -04:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CitiInfo.API.Controllers.CitiesController (CitiInfo.API).
2023-06-30 14:46:40.368 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-30 14:46:40.373 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-30 14:46:40.376 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-30 14:46:40.388 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-30 14:46:40.391 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-30 14:46:40.399 -04:00 [DBG] Executing controller factory for controller CitiInfo.API.Controllers.CitiesController (CitiInfo.API)
2023-06-30 14:46:40.404 -04:00 [DBG] Executed controller factory for controller CitiInfo.API.Controllers.CitiesController (CitiInfo.API)
2023-06-30 14:46:40.415 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-06-30 14:46:40.420 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-06-30 14:46:40.427 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-06-30 14:46:40.434 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-06-30 14:46:40.445 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-06-30 14:46:40.455 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-06-30 14:46:40.461 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-06-30 14:46:40.469 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-06-30 14:46:40.480 -04:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-06-30 14:46:40.486 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-06-30 14:46:40.490 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-06-30 14:46:40.502 -04:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-06-30 14:46:40.505 -04:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-06-30 14:46:40.519 -04:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2023-06-30 14:46:40.540 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-06-30 14:46:40.588 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(100), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CitiInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-06-30 14:46:40.612 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-30 14:46:40.617 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2023-06-30 14:46:40.629 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-06-30 14:46:40.637 -04:00 [DBG] Opened connection to database 'main' on server 'C:\LearningProjects\net-core6-fundamentals\CitiInfo\CitiInfo.API\CityInfo.db'.
2023-06-30 14:46:40.653 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-06-30 14:46:40.677 -04:00 [INF] Executed DbCommand (33ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-06-30 14:46:40.697 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-30 14:46:40.705 -04:00 [DBG] A data reader was disposed.
2023-06-30 14:46:40.709 -04:00 [DBG] Closing connection to database 'main' on server 'C:\LearningProjects\net-core6-fundamentals\CitiInfo\CitiInfo.API\CityInfo.db'.
2023-06-30 14:46:40.715 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-06-30 14:46:40.720 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-06-30 14:46:40.732 -04:00 [DBG] No information found on request to perform content negotiation.
2023-06-30 14:46:40.734 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-30 14:46:40.736 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-30 14:46:40.738 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-30 14:46:40.744 -04:00 [INF] Executing OkObjectResult, writing value of type 'CitiInfo.API.Models.CityWithoutPointsOnInterestDto'.
2023-06-30 14:46:40.748 -04:00 [INF] Executed action CitiInfo.API.Controllers.CitiesController.GetCity (CitiInfo.API) in 348.4718ms
2023-06-30 14:46:40.750 -04:00 [INF] Executed endpoint 'CitiInfo.API.Controllers.CitiesController.GetCity (CitiInfo.API)'
2023-06-30 14:46:40.753 -04:00 [DBG] Connection id "0HMRPJ98CRNLO" completed keep alive response.
2023-06-30 14:46:40.759 -04:00 [DBG] 'CityInfoContext' disposed.
2023-06-30 14:46:40.763 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/cities/1 - - - 200 75 application/json;+charset=utf-8 441.2668ms
2023-06-30 14:46:59.300 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/cities/1?includePointsOfInterest=true - -
2023-06-30 14:46:59.303 -04:00 [DBG] The request path  does not match the path filter
2023-06-30 14:46:59.306 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-06-30 14:46:59.310 -04:00 [DBG] Endpoint 'CitiInfo.API.Controllers.CitiesController.GetCity (CitiInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-06-30 14:46:59.314 -04:00 [DBG] Request matched endpoint 'CitiInfo.API.Controllers.CitiesController.GetCity (CitiInfo.API)'
2023-06-30 14:46:59.316 -04:00 [INF] Executing endpoint 'CitiInfo.API.Controllers.CitiesController.GetCity (CitiInfo.API)'
2023-06-30 14:46:59.319 -04:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CitiInfo.API.Controllers.CitiesController (CitiInfo.API).
2023-06-30 14:46:59.329 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-30 14:46:59.332 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-30 14:46:59.336 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-30 14:46:59.340 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-30 14:46:59.343 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-30 14:46:59.347 -04:00 [DBG] Executing controller factory for controller CitiInfo.API.Controllers.CitiesController (CitiInfo.API)
2023-06-30 14:46:59.351 -04:00 [DBG] Executed controller factory for controller CitiInfo.API.Controllers.CitiesController (CitiInfo.API)
2023-06-30 14:46:59.373 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-06-30 14:46:59.377 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-06-30 14:46:59.382 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-06-30 14:46:59.389 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-06-30 14:46:59.395 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-06-30 14:46:59.398 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-06-30 14:46:59.402 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-06-30 14:46:59.407 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-06-30 14:46:59.410 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-06-30 14:46:59.414 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-06-30 14:46:59.422 -04:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-06-30 14:46:59.425 -04:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-06-30 14:46:59.487 -04:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2023-06-30 14:46:59.503 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-06-30 14:46:59.541 -04:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-06-30 14:46:59.728 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(100), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(100), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CitiInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-06-30 14:46:59.737 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-30 14:46:59.739 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-06-30 14:46:59.751 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-06-30 14:46:59.758 -04:00 [DBG] Opened connection to database 'main' on server 'C:\LearningProjects\net-core6-fundamentals\CitiInfo\CitiInfo.API\CityInfo.db'.
2023-06-30 14:46:59.763 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-06-30 14:46:59.784 -04:00 [INF] Executed DbCommand (22ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-06-30 14:46:59.794 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-30 14:46:59.812 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-30 14:46:59.844 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-30 14:46:59.848 -04:00 [DBG] A data reader was disposed.
2023-06-30 14:46:59.854 -04:00 [DBG] Closing connection to database 'main' on server 'C:\LearningProjects\net-core6-fundamentals\CitiInfo\CitiInfo.API\CityInfo.db'.
2023-06-30 14:46:59.856 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-06-30 14:47:00.049 -04:00 [INF] Executed action CitiInfo.API.Controllers.CitiesController.GetCity (CitiInfo.API) in 701.9548ms
2023-06-30 14:47:00.056 -04:00 [INF] Executed endpoint 'CitiInfo.API.Controllers.CitiesController.GetCity (CitiInfo.API)'
2023-06-30 14:47:00.062 -04:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
City -> CityDto
CitiInfo.API.Entities.City -> CitiInfo.API.Models.CityDto

Type Map configuration:
City -> CityDto
CitiInfo.API.Entities.City -> CitiInfo.API.Models.CityDto

Destination Member:
PointsOfInterest

 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterest -> PointOfInterestDto
CitiInfo.API.Entities.PointOfInterest -> CitiInfo.API.Models.PointOfInterestDto
   at lambda_method111(Closure , PointOfInterest , PointOfInterestDto , ResolutionContext )
   at lambda_method110(Closure , Object , CityDto , ResolutionContext )
   --- End of inner exception stack trace ---
   at lambda_method110(Closure , Object , CityDto , ResolutionContext )
   at CitiInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointsOfInterest) in C:\LearningProjects\net-core6-fundamentals\CitiInfo\CitiInfo.API\Controllers\CitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-06-30 14:47:00.140 -04:00 [DBG] Connection id "0HMRPJ98CRNLO" completed keep alive response.
2023-06-30 14:47:00.145 -04:00 [DBG] 'CityInfoContext' disposed.
2023-06-30 14:47:00.148 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/cities/1?includePointsOfInterest=true - - - 500 - text/plain;+charset=utf-8 848.4547ms
2023-06-30 14:48:26.062 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-30 14:48:26.184 -04:00 [DBG] Hosting starting
2023-06-30 14:48:26.385 -04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: BF900C33E8B9112F0AFF0202C2CFCFEF317F2944)
2023-06-30 14:48:26.481 -04:00 [INF] Now listening on: https://localhost:7204
2023-06-30 14:48:26.488 -04:00 [INF] Now listening on: http://localhost:5204
2023-06-30 14:48:26.493 -04:00 [DBG] Loaded hosting startup assembly CitiInfo.API
2023-06-30 14:48:26.496 -04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-30 14:48:26.501 -04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-30 14:48:26.506 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-30 14:48:26.512 -04:00 [INF] Hosting environment: Development
2023-06-30 14:48:26.518 -04:00 [INF] Content root path: C:\LearningProjects\net-core6-fundamentals\CitiInfo\CitiInfo.API\
2023-06-30 14:48:26.522 -04:00 [DBG] Hosting started
2023-06-30 14:48:50.192 -04:00 [DBG] Connection id "0HMRPJAIEO9IU" received FIN.
2023-06-30 14:48:50.223 -04:00 [DBG] Connection id "0HMRPJAIEO9IU" accepted.
2023-06-30 14:48:50.230 -04:00 [DBG] Connection id "0HMRPJAIEO9IU" started.
2023-06-30 14:48:50.233 -04:00 [DBG] Connection id "0HMRPJAIEO9IV" accepted.
2023-06-30 14:48:50.238 -04:00 [DBG] Connection id "0HMRPJAIEO9IV" started.
2023-06-30 14:48:50.261 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-30 14:48:50.336 -04:00 [DBG] Connection 0HMRPJAIEO9IV established using the following protocol: "Tls13"
2023-06-30 14:48:50.347 -04:00 [DBG] Connection id "0HMRPJAIEO9IU" stopped.
2023-06-30 14:48:50.356 -04:00 [DBG] Connection id "0HMRPJAIEO9IU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-30 14:48:50.388 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/cities/1?includePointsOfInterest=true - -
2023-06-30 14:48:50.403 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-30 14:48:50.448 -04:00 [DBG] The request path  does not match the path filter
2023-06-30 14:48:50.482 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-06-30 14:48:50.495 -04:00 [DBG] Endpoint 'CitiInfo.API.Controllers.CitiesController.GetCity (CitiInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-06-30 14:48:50.507 -04:00 [DBG] Request matched endpoint 'CitiInfo.API.Controllers.CitiesController.GetCity (CitiInfo.API)'
2023-06-30 14:48:50.514 -04:00 [INF] Executing endpoint 'CitiInfo.API.Controllers.CitiesController.GetCity (CitiInfo.API)'
2023-06-30 14:48:50.562 -04:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CitiInfo.API.Controllers.CitiesController (CitiInfo.API).
2023-06-30 14:48:50.577 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-30 14:48:50.580 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-30 14:48:50.585 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-30 14:48:50.589 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-30 14:48:50.592 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-30 14:48:50.600 -04:00 [DBG] Executing controller factory for controller CitiInfo.API.Controllers.CitiesController (CitiInfo.API)
2023-06-30 14:48:50.780 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-30 14:48:51.013 -04:00 [DBG] Executed controller factory for controller CitiInfo.API.Controllers.CitiesController (CitiInfo.API)
2023-06-30 14:48:51.031 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-06-30 14:48:51.038 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-06-30 14:48:51.042 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-06-30 14:48:51.047 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-06-30 14:48:51.051 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-06-30 14:48:51.057 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-06-30 14:48:51.062 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-06-30 14:48:51.067 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-06-30 14:48:51.072 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-06-30 14:48:51.075 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-06-30 14:48:51.078 -04:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-06-30 14:48:51.083 -04:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-06-30 14:48:52.147 -04:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2023-06-30 14:48:52.270 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-06-30 14:48:52.421 -04:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-06-30 14:48:52.872 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(100), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(100), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CitiInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-06-30 14:48:52.966 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-30 14:48:53.092 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (117ms).
2023-06-30 14:48:53.125 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-06-30 14:48:53.156 -04:00 [DBG] Opened connection to database 'main' on server 'C:\LearningProjects\net-core6-fundamentals\CitiInfo\CitiInfo.API\CityInfo.db'.
2023-06-30 14:48:53.180 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-06-30 14:48:53.240 -04:00 [INF] Executed DbCommand (61ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-06-30 14:48:53.276 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-30 14:48:53.313 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-30 14:48:53.335 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-30 14:48:53.352 -04:00 [DBG] A data reader was disposed.
2023-06-30 14:48:53.363 -04:00 [DBG] Closing connection to database 'main' on server 'C:\LearningProjects\net-core6-fundamentals\CitiInfo\CitiInfo.API\CityInfo.db'.
2023-06-30 14:48:53.373 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-06-30 14:48:53.540 -04:00 [INF] Executed action CitiInfo.API.Controllers.CitiesController.GetCity (CitiInfo.API) in 2934.2775ms
2023-06-30 14:48:53.547 -04:00 [INF] Executed endpoint 'CitiInfo.API.Controllers.CitiesController.GetCity (CitiInfo.API)'
2023-06-30 14:48:53.551 -04:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
City -> CityDto
CitiInfo.API.Entities.City -> CitiInfo.API.Models.CityDto

Type Map configuration:
City -> CityDto
CitiInfo.API.Entities.City -> CitiInfo.API.Models.CityDto

Destination Member:
PointsOfInterest

 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterest -> PointOfInterestDto
CitiInfo.API.Entities.PointOfInterest -> CitiInfo.API.Models.PointOfInterestDto
   at lambda_method91(Closure , PointOfInterest , PointOfInterestDto , ResolutionContext )
   at lambda_method90(Closure , Object , CityDto , ResolutionContext )
   --- End of inner exception stack trace ---
   at lambda_method90(Closure , Object , CityDto , ResolutionContext )
   at CitiInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointsOfInterest) in C:\LearningProjects\net-core6-fundamentals\CitiInfo\CitiInfo.API\Controllers\CitiesController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-06-30 14:48:53.617 -04:00 [DBG] Connection id "0HMRPJAIEO9IV" completed keep alive response.
2023-06-30 14:48:53.654 -04:00 [DBG] 'CityInfoContext' disposed.
2023-06-30 14:48:53.669 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/cities/1?includePointsOfInterest=true - - - 500 - text/plain;+charset=utf-8 3284.7315ms
2023-06-30 14:49:28.742 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-30 14:49:28.865 -04:00 [DBG] Hosting starting
2023-06-30 14:49:29.032 -04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: BF900C33E8B9112F0AFF0202C2CFCFEF317F2944)
2023-06-30 14:49:29.124 -04:00 [INF] Now listening on: https://localhost:7204
2023-06-30 14:49:29.136 -04:00 [INF] Now listening on: http://localhost:5204
2023-06-30 14:49:29.139 -04:00 [DBG] Loaded hosting startup assembly CitiInfo.API
2023-06-30 14:49:29.141 -04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-30 14:49:29.143 -04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-30 14:49:29.145 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-30 14:49:29.148 -04:00 [INF] Hosting environment: Development
2023-06-30 14:49:29.150 -04:00 [INF] Content root path: C:\LearningProjects\net-core6-fundamentals\CitiInfo\CitiInfo.API\
2023-06-30 14:49:29.152 -04:00 [DBG] Hosting started
2023-06-30 14:50:06.766 -04:00 [DBG] Connection id "0HMRPJB990S26" received FIN.
2023-06-30 14:50:06.799 -04:00 [DBG] Connection id "0HMRPJB990S26" accepted.
2023-06-30 14:50:06.810 -04:00 [DBG] Connection id "0HMRPJB990S26" started.
2023-06-30 14:50:06.814 -04:00 [DBG] Connection id "0HMRPJB990S27" accepted.
2023-06-30 14:50:06.818 -04:00 [DBG] Connection id "0HMRPJB990S27" started.
2023-06-30 14:50:06.847 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-30 14:50:06.936 -04:00 [DBG] Connection 0HMRPJB990S27 established using the following protocol: "Tls13"
2023-06-30 14:50:06.937 -04:00 [DBG] Connection id "0HMRPJB990S26" stopped.
2023-06-30 14:50:06.956 -04:00 [DBG] Connection id "0HMRPJB990S26" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-30 14:50:06.995 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/cities/1?includePointsOfInterest=true - -
2023-06-30 14:50:07.015 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-30 14:50:07.065 -04:00 [DBG] The request path  does not match the path filter
2023-06-30 14:50:07.105 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-06-30 14:50:07.115 -04:00 [DBG] Endpoint 'CitiInfo.API.Controllers.CitiesController.GetCity (CitiInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-06-30 14:50:07.124 -04:00 [DBG] Request matched endpoint 'CitiInfo.API.Controllers.CitiesController.GetCity (CitiInfo.API)'
2023-06-30 14:50:07.134 -04:00 [INF] Executing endpoint 'CitiInfo.API.Controllers.CitiesController.GetCity (CitiInfo.API)'
2023-06-30 14:50:07.177 -04:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CitiInfo.API.Controllers.CitiesController (CitiInfo.API).
2023-06-30 14:50:07.184 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-30 14:50:07.188 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-30 14:50:07.193 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-30 14:50:07.198 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-30 14:50:07.201 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-30 14:50:07.204 -04:00 [DBG] Executing controller factory for controller CitiInfo.API.Controllers.CitiesController (CitiInfo.API)
2023-06-30 14:50:07.402 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-30 14:50:07.633 -04:00 [DBG] Executed controller factory for controller CitiInfo.API.Controllers.CitiesController (CitiInfo.API)
2023-06-30 14:50:07.649 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-06-30 14:50:07.656 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-06-30 14:50:07.670 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-06-30 14:50:07.677 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-06-30 14:50:07.682 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-06-30 14:50:07.688 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-06-30 14:50:07.700 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-06-30 14:50:07.705 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-06-30 14:50:07.715 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-06-30 14:50:07.720 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-06-30 14:50:07.737 -04:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-06-30 14:50:07.742 -04:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-06-30 14:50:08.768 -04:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2023-06-30 14:50:08.872 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-06-30 14:50:09.012 -04:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-06-30 14:50:09.449 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(100), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(100), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CitiInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-06-30 14:50:09.524 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-30 14:50:09.620 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (90ms).
2023-06-30 14:50:09.644 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-06-30 14:50:09.669 -04:00 [DBG] Opened connection to database 'main' on server 'C:\LearningProjects\net-core6-fundamentals\CitiInfo\CitiInfo.API\CityInfo.db'.
2023-06-30 14:50:09.689 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-06-30 14:50:09.730 -04:00 [INF] Executed DbCommand (46ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-06-30 14:50:09.757 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-30 14:50:09.800 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-30 14:50:09.827 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-30 14:50:09.842 -04:00 [DBG] A data reader was disposed.
2023-06-30 14:50:09.851 -04:00 [DBG] Closing connection to database 'main' on server 'C:\LearningProjects\net-core6-fundamentals\CitiInfo\CitiInfo.API\CityInfo.db'.
2023-06-30 14:50:09.864 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-06-30 14:50:09.879 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-06-30 14:50:09.895 -04:00 [DBG] No information found on request to perform content negotiation.
2023-06-30 14:50:09.897 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-30 14:50:09.899 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-30 14:50:09.902 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-30 14:50:09.905 -04:00 [INF] Executing OkObjectResult, writing value of type 'CitiInfo.API.Models.CityDto'.
2023-06-30 14:50:10.098 -04:00 [INF] Executed action CitiInfo.API.Controllers.CitiesController.GetCity (CitiInfo.API) in 2886.7172ms
2023-06-30 14:50:10.111 -04:00 [INF] Executed endpoint 'CitiInfo.API.Controllers.CitiesController.GetCity (CitiInfo.API)'
2023-06-30 14:50:10.120 -04:00 [DBG] Connection id "0HMRPJB990S27" completed keep alive response.
2023-06-30 14:50:10.136 -04:00 [DBG] 'CityInfoContext' disposed.
2023-06-30 14:50:10.147 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/cities/1?includePointsOfInterest=true - - - 200 331 application/json;+charset=utf-8 3155.4214ms
2023-06-30 18:17:52.822 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-06-30 18:17:52.971 -04:00 [DBG] Hosting starting
2023-06-30 18:17:53.256 -04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: BF900C33E8B9112F0AFF0202C2CFCFEF317F2944)
2023-06-30 18:17:53.379 -04:00 [INF] Now listening on: https://localhost:7204
2023-06-30 18:17:53.382 -04:00 [INF] Now listening on: http://localhost:5204
2023-06-30 18:17:53.386 -04:00 [DBG] Loaded hosting startup assembly CitiInfo.API
2023-06-30 18:17:53.390 -04:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-06-30 18:17:53.392 -04:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-06-30 18:17:53.395 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-30 18:17:53.398 -04:00 [INF] Hosting environment: Development
2023-06-30 18:17:53.400 -04:00 [INF] Content root path: C:\LearningProjects\net-core6-fundamentals\CitiInfo\CitiInfo.API\
2023-06-30 18:17:53.402 -04:00 [DBG] Hosting started
2023-06-30 18:19:49.698 -04:00 [DBG] Connection id "0HMRPN0F96R61" received FIN.
2023-06-30 18:19:49.732 -04:00 [DBG] Connection id "0HMRPN0F96R61" accepted.
2023-06-30 18:19:49.744 -04:00 [DBG] Connection id "0HMRPN0F96R61" started.
2023-06-30 18:19:49.749 -04:00 [DBG] Connection id "0HMRPN0F96R62" accepted.
2023-06-30 18:19:49.756 -04:00 [DBG] Connection id "0HMRPN0F96R62" started.
2023-06-30 18:19:49.801 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-06-30 18:19:49.892 -04:00 [DBG] Connection 0HMRPN0F96R62 established using the following protocol: "Tls13"
2023-06-30 18:19:49.905 -04:00 [DBG] Connection id "0HMRPN0F96R61" stopped.
2023-06-30 18:19:49.910 -04:00 [DBG] Connection id "0HMRPN0F96R61" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-06-30 18:19:49.973 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7204/api/cities/1?includePointsOfInterest=true - -
2023-06-30 18:19:49.999 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-06-30 18:19:50.056 -04:00 [DBG] The request path  does not match the path filter
2023-06-30 18:19:50.100 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-06-30 18:19:50.110 -04:00 [DBG] Endpoint 'CitiInfo.API.Controllers.CitiesController.GetCity (CitiInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-06-30 18:19:50.117 -04:00 [DBG] Request matched endpoint 'CitiInfo.API.Controllers.CitiesController.GetCity (CitiInfo.API)'
2023-06-30 18:19:50.125 -04:00 [INF] Executing endpoint 'CitiInfo.API.Controllers.CitiesController.GetCity (CitiInfo.API)'
2023-06-30 18:19:50.189 -04:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CitiInfo.API.Controllers.CitiesController (CitiInfo.API).
2023-06-30 18:19:50.199 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-06-30 18:19:50.206 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-06-30 18:19:50.212 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-06-30 18:19:50.221 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-06-30 18:19:50.227 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-06-30 18:19:50.232 -04:00 [DBG] Executing controller factory for controller CitiInfo.API.Controllers.CitiesController (CitiInfo.API)
2023-06-30 18:19:50.532 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-06-30 18:19:50.880 -04:00 [DBG] Executed controller factory for controller CitiInfo.API.Controllers.CitiesController (CitiInfo.API)
2023-06-30 18:19:50.906 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-06-30 18:19:50.911 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-06-30 18:19:50.917 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-06-30 18:19:50.921 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-06-30 18:19:50.924 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-06-30 18:19:50.930 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-06-30 18:19:50.934 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-06-30 18:19:50.939 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-06-30 18:19:50.944 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-06-30 18:19:50.947 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-06-30 18:19:50.951 -04:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-06-30 18:19:50.955 -04:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-06-30 18:19:52.346 -04:00 [INF] Entity Framework Core 6.0.19 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.19' with options: None
2023-06-30 18:19:52.480 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-06-30 18:19:52.679 -04:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-06-30 18:19:53.278 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(100), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(100), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CitiInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-06-30 18:19:53.384 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-06-30 18:19:53.823 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (435ms).
2023-06-30 18:19:53.862 -04:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-06-30 18:19:53.902 -04:00 [DBG] Opened connection to database 'main' on server 'C:\LearningProjects\net-core6-fundamentals\CitiInfo\CitiInfo.API\CityInfo.db'.
2023-06-30 18:19:53.931 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-06-30 18:19:53.999 -04:00 [INF] Executed DbCommand (71ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-06-30 18:19:54.051 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-30 18:19:54.099 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-30 18:19:54.133 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-06-30 18:19:54.151 -04:00 [DBG] A data reader was disposed.
2023-06-30 18:19:54.175 -04:00 [DBG] Closing connection to database 'main' on server 'C:\LearningProjects\net-core6-fundamentals\CitiInfo\CitiInfo.API\CityInfo.db'.
2023-06-30 18:19:54.197 -04:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-06-30 18:19:54.232 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-06-30 18:19:54.253 -04:00 [DBG] No information found on request to perform content negotiation.
2023-06-30 18:19:54.256 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-06-30 18:19:54.260 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-06-30 18:19:54.263 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-06-30 18:19:54.269 -04:00 [INF] Executing OkObjectResult, writing value of type 'CitiInfo.API.Models.CityDto'.
2023-06-30 18:19:54.525 -04:00 [INF] Executed action CitiInfo.API.Controllers.CitiesController.GetCity (CitiInfo.API) in 4284.9568ms
2023-06-30 18:19:54.530 -04:00 [INF] Executed endpoint 'CitiInfo.API.Controllers.CitiesController.GetCity (CitiInfo.API)'
2023-06-30 18:19:54.537 -04:00 [DBG] Connection id "0HMRPN0F96R62" completed keep alive response.
2023-06-30 18:19:54.551 -04:00 [DBG] 'CityInfoContext' disposed.
2023-06-30 18:19:54.561 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7204/api/cities/1?includePointsOfInterest=true - - - 200 331 application/json;+charset=utf-8 4596.9499ms
